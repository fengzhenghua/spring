<?xml version="1.0" encoding="UTF-8"?><vds>
	<drivers>
		<driver id="1" clazz="com.mysql.jdbc.Driver" url="jdbc:mysql://172.168.1.181:3306/vds"
			user="crmroot" password="crmroot">
			<active>
				<tables schema="crm_ofr" filter="1=1"/>
				<tables schema="crm_product" filter="1=1"/>
				<tables schema="crm_user" filter="1=1"/>
				<tables schema="crm_pub" filter="table_name not like 'JBPM4%'"/>
				<tables schema="crm_order" filter="1=1"/>
				<tables schema="crm_cust" filter="1=1"/>
			</active>
		</driver>
		<driver id="2" clazz="com.mysql.jdbc.Driver" url="jdbc:mysql://172.168.1.183:3306/vds"
			user="crmroot" password="crmroot">
			<active>
				<tables schema="crm_ofr" filter="1=1"/>
				<tables schema="crm_product" filter="1=1"/>
				<tables schema="crm_user" filter="1=1"/>
				<tables schema="crm_pub" filter="table_name not like 'JBPM4%'"/>
				<tables schema="crm_order" filter="1=1"/>
				<tables schema="crm_cust" filter="1=1"/>
			</active>
		</driver>
	</drivers>
	<services>
		<service code="ofr.CodeOfr.queryByOfrId" clazz="com.tydic.vds.service.single.CommonService"
			isQuery="true">
			<script>
				--@Router(OFR_ID,$1) 
				SELECT ofr_id, ofr_name, ofr_desc, market_price, ofr_status,
				eff_flag, date_format(eff_date, '%Y-%m-%d %T') eff_date,
				date_format(exp_date, '%Y-%m-%d %T') exp_date, exclude_code,
				rule_id, ofr_type, ofr_sub_type, tele_type, date_format(oper_date,
				'%Y-%m-%d %T') oper_date FROM code_ofr WHERE ofr_id = ?
			</script>
		</service>
		<service code="user.LifeUserProduct.modifyByUserIdChngOrderId" clazz="com.tydic.vds.service.single.CommonService" isQuery="false">
      <script>UPDATE life_user_product SET exp_date=chng_exp_date,eff_flag=?,chng_order_id=NULL ,chng_exp_date=NULL WHERE user_id=? AND chng_order_id=?
</script>
    </service>
    <service code="pub.SequenceId.queryDeviceId" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select crm_user.SEQ_DEVICE_ID.nextval from user_dual
</script>
    </service>
    <service code="product.CodeProduct.updateCodeProduct" clazz="com.tydic.vds.service.single.CommonService" isQuery="false">
      <script>
      	--@Router(PRODUCT_ID,$1) 
		update code_product set product_name=?,product_desc=?,product_type=?,
		product_price=?,product_status=?,dept_id=?,EXCLUDE_CODE=?,eff_flag=?,eff_date=str_to_date(?,'%Y-%m-%d
		%T'),
		exp_date=str_to_date(?,'%Y-%m-%d %T'),bar_code=? where product_id=?
</script>
    </service>
    <service code="pub.SequenceId.queryPostId" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select crm_cust.SEQ_POST_ID.nextval from cust_dual
</script>
    </service>
    <service code="pub.InfoPerson.queryInfoPerson" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>SELECT customer_id,
		  	customer_name,
		  	id_adress,
		  	sex_type,
		  	date_format(customer_birthday, '%Y-%m-%d %T') customer_birthday,
		  	contract_number,
		  	industry_type,
		  	work_type,
		  	university_name,
		  	edu_backgroud,
		  	study_field,
		  	interest_field 
		  FROM info_person
		  WHERE customer_id = ?
	  </script>
    </service>
    <service code="user.LifeUserProduct.modifyByUserIdProductId" clazz="com.tydic.vds.service.single.CommonService" isQuery="false">
      <script>UPDATE life_user_product SET exp_date=str_to_date(?,'%Y-%m-%d %T'),eff_flag=?,chng_order_id=? ,chng_exp_date=exp_date WHERE user_id=? AND eff_flag=0 AND eff_date&lt;SYSDATE AND exp_date&gt;SYSDATE AND product_id=?
</script>
    </service>
    <service code="pub.InfoAuthority.queryByAuthorityId" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      	<script>select 
				authority_id,authority_name,authority_url,authority_comment,create_date,create_operator_id
				from info_authority 
				where authority_id = ?
		</script>
    </service>
    <service code="pub.InfoOper.deleteInfoOper" clazz="com.tydic.vds.service.single.CommonService" isQuery="false">
      <script>delete from info_oper 
				  where oper_id in (?)
</script>
    </service>
    <service code="pub.InfoAuthority.createInfoAuthority" clazz="com.tydic.vds.service.single.CommonService" isQuery="false">
      <script>insert into info_authority
				   (authority_id,authority_name,authority_url,authority_comment,create_date,create_operator_id,authority_index) 
				   values (?,?,?,?,sysdate(),?,?)
</script>
    </service>
    <service code="pub.InfoMenu.updateInfoMenu" clazz="com.tydic.vds.service.single.CommonService" isQuery="false">
      <script>update info_menu 
				   set
				   authority_id = ?,menu_name = ?,menu_url = ?,menu_comment = ?,create_date = ?,create_operator_id = ?,up_menu_id = ?
				   where menu_id = ?
</script>
    </service>
    <service code="pub.SequenceId.queryServiceCycleId" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>SELECT to_number(to_char(sysdate,YYYYMMDD)||LPAD(crm_user.SEQ_SERVICE_CYCLEID_ID.nextval,12,0)) FROM user_dual
</script>
    </service>
    <service code="pub.InfoAuthInternet.queryInfoAuthInternetByEInfo" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select * from  info_auth_internet where e_info = ? and eff_flag = 1
</script>
    </service>
    <service code="pub.SequenceId.queryInfoShoppingCartId" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>SELECT to_number(to_char(sysdate,YYYYMMDD)||LPAD(crm_order.SEQ_INFO_SHOPPING_CART_ID.nextval,12,0)) FROM order_dual
</script>
    </service>
    <service code="ofr.RuleOfrProduct.insertRuleOfrProduct" clazz="com.tydic.vds.service.single.CommonService" isQuery="false">
      <script>
      	--@Router(PRODUCT_ID,$1) 
		insert into rule_ofr_product
		(ofr_product_id,ofr_id,product_id,group_no,group_name,exclude_flag,choice_status)values(?,?,?,?,?,?,?);
</script>
    </service>
    <service code="order.InfoOrder.updateInfoOrder" clazz="com.tydic.vds.service.single.CommonService" isQuery="false">
      <script>update info_order set parent_order_id = ?,cust_id = ?,express_flag = ?,
				order_status = ?,finish_date = str_to_date(?,'%Y-%m-%d %T'),dev_channel_id = ?,dev_id = ?,create_operator_id = ?,create_date = str_to_date(?,'%Y-%m-%d %T')
             where order_id = ?
</script>
    </service>
    <service code="product.CodeProductXimAttr.queryByXimNumber" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select  * from CODE_PRODUCT_XIM_ATTR where xim_number=? 
</script>
    </service>
    <service code="order.InfoShoppingCart.updateInfoShoppingCart" clazz="com.tydic.vds.service.single.CommonService" isQuery="false">
      <script>update info_shopping_cart set material_num = ? where shopping_cart_id = ?
</script>
    </service>
    <service code="ofr.RuleOfrProduct.queryByOfrId" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>
      --@Router(OFR_ID,$1) 
      select * from rule_ofr_product where ofr_id = ?
</script>
    </service>
    <service code="user.LifeServiceCycle.modifyByUserIdOrderId" clazz="com.tydic.vds.service.single.CommonService" isQuery="false">
      <script>UPDATE life_service_cycle SET exp_date=eff_date,eff_flag=?,chng_order_id=NULL ,chng_exp_date=NULL WHERE user_id=? AND order_id=?
</script>
    </service>
    <service code="product.CodeProductDeviceNumAttr.updateCodeProductDeviceNumAttr" clazz="com.tydic.vds.service.single.CommonService" isQuery="false">
      <script>update code_product_device_num_attr set device_number=?,hlr_code=?,res_status=?,xim_number=?,local_net=?,num_charge_id=?,cancel_date=?,pre_invalid_date=? where product_id = ?
</script>
    </service>
    <service code="ofr.CodeOfrAttr.queryByOfrId" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>
      	--@Router(OFR_ID,$1) 
		select ofr_attr_id, ofr_id, attr_type, attr_id, attr_value,
		attr_sub_type from code_ofr_attr where ofr_id = ? 
</script>
    </service>
    <service code="product.RuleProductServicePkg.queryServicePkgByProdcutIds" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select RULE_PRODUCT_SERPKG_ID,PRODUCT_ID,SERVICE_PKG_ID from RULE_PRODUCT_SERVICE_PKG where 1=1
</script>
    </service>
    <service code="ofr.RuleActivityElements.queryRuleByActivityId" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select rule_activity_element_id, activity_id, element_cata, element_type, element_sub_type,element_id, eff_flag, date_format(eff_date, '%Y-%m-%d %T'), date_format(exp_date, '%Y-%m-%d %T') from rule_activity_elements where activity_id=? and eff_flag=?
</script>
    </service>
    <service code="pub.SequenceId.queryOrderDiscountDetailId" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select to_number(to_char(sysdate,YYYYMMDD)||LPAD(crm_order.SEQ_ORDER_DISCOUNT_DETAIL_ID.nextval,12,0)) from order_dual
</script>
    </service>
    <service code="pub.InfoMenu.queryInfoMenuByOperID" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select  * from info_menu where menu_id 
				in(
 				 select  menu_id from rule_menu_role 
				 where  role_id
 					in ( select  role_id from  rule_oper_role where  oper_id=? )
 					) and authority_id=?
</script>
    </service>
    <service code="pub.InfoPay.insertInfoPay" clazz="com.tydic.vds.service.single.CommonService" isQuery="false">
      <script>insert into info_pay(pay_id, pay_name,
					cust_id,latn_id,create_date,exp_date,prepay_flag,local_net)
					values(?,?,?,?,str_to_date(?,'%Y-%m-%d %T'),str_to_date(?,'%Y-%m-%d %T'),?,?)
</script>
    </service>
    <service code="ofr.CodeOfrAttrGroup.queryBySKUIdAndGroup" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select ofr_sku_group_id, sku_group_code, sku_id, attr_id from code_ofr_attr_group where sku_id=? and sku_group_code=?
</script>
    </service>
    <service code="product.InfoStorageNum.insertInfoStorageNum" clazz="com.tydic.vds.service.single.CommonService" isQuery="false">
      <script>
      	--@Router(PRODUCT_ID,$1)
		insert into
		info_storage_num(storage_num_id,storage_id,product_id,sale_num,onway_num,unload_num,sale_lock_num,virtual_flag,virtual_id,virtual_num,un_sale_num,alert_flag)values(?,?,?,?,?,?,?,?,?,?,?,?);
</script>
    </service>
    <service code="order.InfoOrder.queryByOrderId" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select 
             	order_id,parent_order_id,cust_id,express_flag,
				order_status,date_format(finish_date, '%Y-%m-%d %T') finish_date,dev_channel_id,dev_id,
				create_operator_id,date_format(create_date, '%Y-%m-%d %T') create_date
             from info_order where order_id = ?
</script>
    </service>
    <service code="pub.InfoPerson.insertInfoPerson" clazz="com.tydic.vds.service.single.CommonService" isQuery="false">
      <script>insert into info_person(customer_id, customer_name,
					id_adress,sex_type,customer_birthday,contract_number,industry_type,work_type,university_name,edu_backgroud,study_field,interest_field)  
					values(?,?,?,?,str_to_date(?,'%Y-%m-%d %T'),?,?,?,?,?,?,?)
</script>
    </service>
    <service code="pub.SequenceId.queryImsiId" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select crm_user.SEQ_IMSI_ID.nextval from user_dual
</script>
    </service>
    <service code="order.InfoOrderMaterialsAttr.insertInfoOrderMaterialsAttr" clazz="com.tydic.vds.service.single.CommonService" isQuery="false">
      <script>insert into info_order_materials_attr(
             	order_materials_attr_id,order_materials_id,attr_type,attr_id,
				attr_value
				)
			values(
				?,?,?,?,
				?
				)
</script>
    </service>
    <service code="ofr.CodeOfr.queryByOfrTypeAndStatus" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>
      	--@Router(OFR_ID,$1)
		select
		ofr_id,ofr_name,ofr_desc,market_price,ofr_status,eff_flag,date_format(eff_date,
		'%Y-%m-%d %T') eff_date,date_format(exp_date, '%Y-%m-%d %T')
		exp_date,exclude_code,rule_id,ofr_type,ofr_sub_type,date_format(oper_date,
		'%Y-%m-%d %T') oper_date from code_ofr where ofr_type = ? and
		ofr_status = ?
</script>
    </service>
    <service code="pub.InfoAuthMobile.queryInfoAuthMobileByDeviceNumber" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select * from  info_auth_mobile where device_number = ? and eff_flag = 1
</script>
    </service>
    <service code="user.LifeUserProduct.modifyByUserIdOrderId" clazz="com.tydic.vds.service.single.CommonService" isQuery="false">
      <script>UPDATE life_user_product SET exp_date=eff_date,eff_flag=?,chng_order_id=NULL ,chng_exp_date=NULL WHERE user_id=? AND order_id=?
</script>
    </service>
    <service code="pub.InfoMenu.deleteInfoMenu" clazz="com.tydic.vds.service.single.CommonService" isQuery="false">
      <script>delete from info_menu 
				  where menu_id in (?)
</script>
    </service>
    <service code="order.InfoOrderDistribution.updateInfoOrderDistribution" clazz="com.tydic.vds.service.single.CommonService" isQuery="false">
      <script>update info_order_distribution set logistics_type = ?,storage_id = ?,self_chl_id = ?,contact_name = ?,
				contact_tel = ?,province_code = ?,city_code = ?,address = ?,
				post_code = ?,distribution_time_id = ?,logistics_company_id = ?,
				express_id = ?,submit_date = str_to_date(?,'%Y-%m-%d %T')
             where order_id = ?
</script>
    </service>
    <service code="product.CodeService.queryServiceByServiceIds" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select SERVICE_ID,TELE_TYPE,SERVICE_NAME,SERVICE_DESC,SERVICE_TYPE,COMM_FLAG,EXCLUDE_FLAG,SERVICE_PKG_ID from CODE_SERVICE where 1=1
</script>
    </service>
    <service code="pub.InfoRole.createInfoRole" clazz="com.tydic.vds.service.single.CommonService" isQuery="false">
      <script>insert into info_role
				   (role_id,role_name,role_comment,create_date,create_operator_id) 
				   values (?,?,?,sysdate(),?)
</script>
    </service>
    <service code="pub.Jbpm4HistActinst.queryHistActinstByExecution" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select a.DBID_ , a.EXECUTION_ proc_ins_id, a.ACTIVITY_NAME_ order_status, a.TYPE_ execution_type, date_format(a.START_, '%Y-%m-%d %T') start_date,decode(a.END_,,now,old) now_proc_flag,date_format(a.END_, '%Y-%m-%d %T') end_date from jbpm4_hist_actinst a where a.execution_ = ? order by a.START_ asc
</script>
    </service>
    <service code="pub.InfoPost.deleteInfoPost" clazz="com.tydic.vds.service.single.CommonService" isQuery="false">
      <script>delete info_post  where post_id = ?
</script>
    </service>
    <service code="product.InfoStorageNum.queryByProductId" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>
      	--@Router(STORAGE_ID,$1)
		select * from info_storage_num where product_id = ?
</script>
    </service>
    <service code="ofr.CodeOfr.queryByKeyVal" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select ofr_id,ofr_name,ofr_desc,market_price,ofr_status,eff_flag,date_format(eff_date, '%Y-%m-%d %T') eff_date,date_format(exp_date, '%Y-%m-%d %T') exp_date,exclude_code,rule_id,ofr_type,ofr_sub_type,date_format(oper_date, '%Y-%m-%d %T') oper_date  from code_ofr  a where instr(a.ofr_name,?) and ofr_type=? and ofr_status = ?;
</script>
    </service>
    <service code="pub.InfoRole.queryPageInfoRole" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select 
				role_id,role_name,role_comment,create_date,create_operator_id
				from info_role 
				where role_name = ?
</script>
    </service>
    <service code="ofr.CodeOfr.updateCodeOfr" clazz="com.tydic.vds.service.single.CommonService" isQuery="false">
      <script>update code_ofr set ofr_name=?,ofr_desc=?,market_price=?,ofr_status=?,eff_flag=?,eff_date=str_to_date(?,'%Y-%m-%d %T'),exp_date=str_to_date(?,'%Y-%m-%d %T'),exclude_code=?,rule_id=?,ofr_type=?,ofr_sub_type=?,oper_date=sysdate where ofr_id = ?
</script>
    </service>
    <service code="pub.InfoAuthority.updateInfoAuthority" clazz="com.tydic.vds.service.single.CommonService" isQuery="false">
      <script>update info_authority 
				   set
				   authority_name = ?,authority_url = ?,authority_comment = ?,create_date = ?,create_operator_id = ?,authority_index = ?
				   where authority_id = ?
</script>
    </service>
    <service code="product.CodeProduct.queryProductsByProductIds" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select * from code_product where 1=1
</script>
    </service>
    <service code="order.InfoOrderMaterialsAttr.queryByOrderMaterialsId" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select 
             	order_materials_attr_id,order_materials_id,attr_type,attr_id,
				attr_value
             from info_order_materials_attr where order_materials_id = ?
</script>
    </service>
    <service code="pub.RuleAuthorityRole.createRuleAuthorityRole" clazz="com.tydic.vds.service.single.CommonService" isQuery="false">
      <script>insert into rule_authority_role
				   (authority_role_id,authority_id,role_id,create_date,create_operator_id) 
				   values (?,?,?,sysdate(),?)
</script>
    </service>
    <service code="product.CodeProduct.insertCodeProduct" clazz="com.tydic.vds.service.single.CommonService" isQuery="false">
      <script>
      --@Router(PRODUCT_ID,$1)
      insert into code_product (product_id,product_name,product_desc,product_type,product_price,product_status,dept_id,exclude_code,eff_flag,eff_date,exp_date,bar_code)values(?,?,?,?,?,?,?,?,?,str_to_date(?,'%Y-%m-%d %T'),str_to_date(?,'%Y-%m-%d %T'),?);
</script>
    </service>
    <service code="order.InfoOrderAttr.insertInfoOrderAttr" clazz="com.tydic.vds.service.single.CommonService" isQuery="false">
      <script> insert into info_order_attr(
             	order_attr_id,order_id,attr_type,attr_id,
				attr_value
				)
			values(
				?,?,?,?,
				?
				)
</script>
    </service>
    <service code="pub.SequenceId.queryOrderId" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select to_number(to_char(sysdate,YYYYMMDD)||LPAD(crm_order.SEQ_ORDER_ID.nextval,12,0)) from order_dual
</script>
    </service>
    <service code="pub.InfoOper.updateInfoOper" clazz="com.tydic.vds.service.single.CommonService" isQuery="false">
      <script>update info_oper 
				   set
				   oper_dept = ?,oper_name = ?,login_code = ?,oper_pwd = ?,oper_gender = ?,
				   oper_phone = ?,oper_email = ?,oper_mobile = ?,oper_status = ?,eff_flag = ?,eff_date = ?,
				   exp_date = ?,oper_online = ?,oper_comment = ?,create_date = ?,create_operator_id = ?
				   where oper_id = ?
</script>
    </service>
    <service code="product.CodeProduct.queryByProductId" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select  product_id,product_name,product_desc,product_type,product_price,product_status,
dept_id,EXCLUDE_CODE,eff_flag,date_format(eff_date, '%Y-%m-%d %T') eff_date,
date_format(exp_date, '%Y-%m-%d %T') exp_date,bar_code from code_product where PRODUCT_ID = ?
</script>
    </service>
    <service code="user.LifeUserProduct.queryOfrIdsByUserId" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select DISTINCT ofr_id from life_user_product where exp_date&gt;sysdate  and user_id=?
</script>
    </service>
    <service code="pub.SequenceId.queryUserProductId" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>
SELECT to_number(to_char(sysdate,YYYYMMDD)||LPAD(crm_user.SEQ_USER_PRODUCT_ID.nextval,12,0)) FROM user_dual
</script>
    </service>
    <service code="product.RuleServicePkg.queryServiceByServicePkgIds" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select RULE_SERVICE_PKG_ID,SERVICE_PKG_ID,SERVICE_ID from RULE_SERVICE_PKG where 1=1
</script>
    </service>
    <service code="order.InfoOrderDiscountDetail.insertInfoOrderDiscountDetail" clazz="com.tydic.vds.service.single.CommonService" isQuery="false">
      <script>insert into info_order_discount_detail(
             	order_discount_detail_id,order_id,discount_type,discount_fee,
				discount_reason
				)
			values(
				?,?,?,?,
				?
				)
</script>
    </service>
    <service code="user.LifeServiceCycle.modifyByUserIdServiceId" clazz="com.tydic.vds.service.single.CommonService" isQuery="false">
      <script>UPDATE life_service_cycle SET exp_date=str_to_date(?,'%Y-%m-%d %T'),eff_flag=?,chng_order_id=?,chng_exp_date=exp_date WHERE user_id=? AND eff_flag=0 AND eff_date&lt;SYSDATE AND exp_date&gt;SYSDATE AND service_id=?
</script>
    </service>
    <service code="pub.RuleMenuRole.createRuleMenuRole" clazz="com.tydic.vds.service.single.CommonService" isQuery="false">
      <script>insert into rule_menu_role
				   (menu_role_id,menu_id,role_id,create_date,create_operator_id) 
				   values (?,?,?,sysdate(),?)
</script>
    </service>
    <service code="ofr.CodeActivity.queryCodeById" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select activity_id, activity_name, activity_desc, activity_type, activity_sub_type, market_price, eff_flag, date_format(eff_date, '%Y-%m-%d %T'), date_format(exp_date, '%Y-%m-%d %T') from code_activity where activity_id=? and eff_flag=?
</script>
    </service>
    <service code="order.InfoOrder.queryCountInfoOrder" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select count(*)	from info_order where 1=1
</script>
    </service>
    <service code="order.InfoOrderFeeTotal.queryByOrderId" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select 
             	order_id,pay_type,total_fee,discount_fee,
				payed_fee,invoice_flag
             from info_order_fee_total where order_id = ?
</script>
    </service>
    <service code="pub.SequenceId.queryAuthId" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select crm_cust.SEQ_AUTH_ID.nextval from cust_dual
</script>
    </service>
    <service code="busi.InfoOrderPackPreview.queryPageInfoOrderPackPreview" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select  s.order_id,s.OFR_ID ,o.ofr_name,s.MARKET_PRICE,
			s.MATERIAL_NUM ,sum(s.MARKET_PRICE*s.MATERIAL_NUM) as total
			from  INFO_ORDER_DETAIL s,CRM_OFR.CODE_OFR o
				where  s.ofr_id=o.ofr_id 
				and s.order_id = ?
            group by s.order_id, s.OFR_ID, s.MARKET_PRICE, s.MATERIAL_NUM, o.ofr_name
</script>
    </service>
    <service code="product.CodeProductXimAttr.queryByProductId" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select  * from CODE_PRODUCT_XIM_ATTR where product_id=? 
</script>
    </service>
    <service code="pub.InfoAuthority.queryInfoAuthorityByMenuId" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script> select au.authority_id,au.authority_name,au.authority_url,au.authority_comment,au.create_date,au.create_operator_id ,au.AUTHORITY_INDEX from  INFO_AUTHORITY au ,INFO_MENU m
where  au.AUTHORITY_ID=m.AUTHORITY_ID and m.MENU_ID = ?
</script>
    </service>
    <service code="product.codeProductXimAttr.updateCodeProductXimAttr" clazz="com.tydic.vds.service.single.CommonService" isQuery="false">
      <script>update CODE_PRODUCT_XIM_ATTR set xim_number=?, xim_type=?, msin=?, puk_first=?, puk_second=?, pin_first=?, pin_second=?,
a4ki=?, imsi=?, min_number=?, akey=?, esn=?, hlr_code=?, sim_cost=?, res_status=?, check_pwd=?, local_net=?, agent_flag=?,
uimid=?, a4_key_sn=?, op_key_sn=? where product_id=?
</script>
    </service>
    <service code="order.InfoShoppingCart.queryInfoShoppingCartByCustId" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select	* from info_shopping_cart where cust_id = ?
</script>
    </service>
    <service code="pub.InfoAuthInternet.insertInfoAuthInternet" clazz="com.tydic.vds.service.single.CommonService" isQuery="false">
      <script>insert into INFO_AUTH_INTERNET (AUTH_ID,CUSTOMER_ID,E_TYPE,E_INFO,AUTH_DATE,EXP_DATE,EFF_FLAG)
VALUES(?,?,?,?,str_to_date(?,'%Y-%m-%d %T'),str_to_date(?,'%Y-%m-%d %T'),?);
</script>
    </service>
    <service code="user.LifeUserProduct.createLifeUserProduct" clazz="com.tydic.vds.service.single.CommonService" isQuery="false">
      <script>insert into life_user_product(user_product_id,order_id,user_id,ofr_id,product_id,eff_date,exp_date,eff_flag,create_date) values(?,?,?,?,?,str_to_date(?,'%Y-%m-%d %T'),str_to_date(?,'%Y-%m-%d %T'),?,sysdate)
</script>
    </service>
    <service code="pub.InfoUser.getUserById" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select user_id, tele_type,device_number,user_pwd,user_status,date_format(create_date, '%Y-%m-%d %T') create_date,date_format(active_date, '%Y-%m-%d %T') active_date,user_type,prepay_flag,local_net,develop_channel_id,proto_flag,sub_user_status,date_format(stop_date, '%Y-%m-%d %T') stop_date from info_user where user_id = ?
</script>
    </service>
    <service code="order.InfoOrderInvoice.insertInfoOrderInvoice" clazz="com.tydic.vds.service.single.CommonService" isQuery="false">
      <script>insert into info_order_invoice(
             	order_id,invoice_title,print_num,invoice_type
				)
			values(
				?,?,0,?
				)
</script>
    </service>
    <service code="pub.InfoAuthority.queryByAuthorityIds" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select 
				authority_id,authority_name,authority_url,authority_comment,create_date,create_operator_id
				from info_authority  i
				where authority_id = ?
				EXISTS (
				select 1 from 
				RULE_AUTHORITY_ROLE a
				where i.authority_id = a.authority_id 
				and a.authority_id  in (?) 
				)
</script>
    </service>
    <service code="pub.InfoPost.queryByCustomerId" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select post_id, customer_id, contact_name, contact_tel, province_code, city_code, address, post_code from info_post where customer_id = ?
</script>
    </service>
    <service code="order.InfoShoppingCart.deleteInfoShoppingCart" clazz="com.tydic.vds.service.single.CommonService" isQuery="false">
      <script>delete from info_shopping_cart where shopping_cart_id in (?)
</script>
    </service>
    <service code="order.InfoOrder.queryByCustId" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select order_id,parent_order_id,cust_id,express_flag,order_status,
date_format(finish_date, '%Y-%m-%d %T') finish_date,
dev_channel_id,dev_id,create_operator_id,
date_format(create_date, '%Y-%m-%d %T') create_date from
info_order where cust_id = ?
</script>
    </service>
    <service code="pub.PayUserRel.insertPayUserRel" clazz="com.tydic.vds.service.single.CommonService" isQuery="false">
      <script>  insert into pay_user_rel(pay_user_id, pay_id,
					user_id,latn_id,default_tag,payitem_code,priority,eff_date,exp_date,eff_flag,limit_type,limit_valuea,limit_valueb)
					values(?,?,?,?,?,?,?,str_to_date(?,'%Y-%m-%d %T'),str_to_date(?,'%Y-%m-%d %T'),?,?,?,?)
</script>
    </service>
    <service code="pub.InfoCustomer.insertInfoCustomer" clazz="com.tydic.vds.service.single.CommonService" isQuery="false">
      <script>insert into info_customer(customer_id, customer_type,
					auth_bit,auth_pwd,create_date,vip_level,real_customer_id)
					values(?,?,?,?,str_to_date(?,'%Y-%m-%d %T'),?,?)
</script>
    </service>
    <service code="ofr.RuleActivityFavor.queryFavorByActivityId" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select activity_favor_id, activity_id, condition_factor_id, condition_param, favor_factor_id, favor_param, priority, eff_flag, date_format(eff_date, '%Y-%m-%d %T'), date_format(exp_date, '%Y-%m-%d %T') from rule_activity_favor  where activity_id=? and eff_flag=? order by priority
</script>
    </service>
    <service code="order.InfoOrderDistribution.queryByOrderId" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select  * from info_order_distribution where order_id=? 
</script>
    </service>
    <service code="pub.RuleOperRole.createRuleOperRole" clazz="com.tydic.vds.service.single.CommonService" isQuery="false">
      <script>insert into rule_oper_role
				   (oper_role_id,oper_id,role_id,create_date,create_operator_id) 
				   values (?,?,?,sysdate(),?)
</script>
    </service>
    <service code="pub.InfoOper.queryCountInfoOper" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select 
				count(*)
				from info_oper 
				where 1=1
</script>
    </service>
    <service code="pub.InfoMenu.getInfoMenuById" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select 
				menu_id,authority_id,menu_name,menu_url,menu_comment,create_date,create_operator_id,up_menu_id
				from info_menu 
				where menu_id = ?
</script>
    </service>
    <service code="pub.SequenceId.queryPayId" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select crm_user.SEQ_PAY_ID.nextval from user_dual 
</script>
    </service>
    <service code="product.CodeProductDeviceNumAttr.insertCodeProductDeviceNumAttr" clazz="com.tydic.vds.service.single.CommonService" isQuery="false">
      <script>insert into code_product_device_num_attr (product_id,device_number,hlr_code,res_status,xim_number,local_net,num_charge_id)values(?,?,?,?,?,?,?);
</script>
    </service>
    <service code="order.InfoOrderDetail.queryByOrderId" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select 
             	order_detail_id,order_id,ofr_type,ofr_sub_type,
				ofr_id,market_price,material_num
             from info_order_detail where order_id = ?
</script>
    </service>
    <service code="pub.InfoMenu.queryPageInfoMenu" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select 
        		menu_id,authority_id,menu_name,menu_url,menu_comment,create_date,create_operator_id,up_menu_id
				from info_menu 
				where 1=1
</script>
    </service>
    <service code="pub.InfoMenu.createInfoMenu" clazz="com.tydic.vds.service.single.CommonService" isQuery="false">
      <script> insert into info_menu
				   (menu_id,authority_id,menu_name,menu_url,menu_comment,create_date,create_operator_id,up_menu_id) 
				   values (?,?,?,?,?,sysdate(),?,?)
</script>
    </service>
    <service code="order.InfoOrderDiscountDetail.queryByOrderId" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select 
             	order_id,logistics_type,storage_id,self_chl_id,
				contact_name,contact_tel,province_code,city_code,
				address,post_code,distribution_time_id,logistics_company_id,
				express_id,submit_date
             from info_order_distribution where order_id = ?
</script>
    </service>
    <service code="pub.CodeList.queryByTypeCode" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select 
							code_list_||a.type_code||_||a.code_id keyId,
							a.type_code typeCode,a.code_id codeId,a.code_name codeName,
							a.seq_id seqId,a.macro_code macroCode,a.parent_type_code parentTypeCode,
							a.parent_code_id parentCodeId,a.eff_flag effFlag 
						from code_list a
						where a.type_code = ?
</script>
    </service>
    <service code="pub.InfoOper.createInfoOper" clazz="com.tydic.vds.service.single.CommonService" isQuery="false">
      <script>insert into info_oper
				   (oper_id,oper_dept,oper_name,login_code,oper_pwd,oper_gender,
				oper_phone,oper_email,oper_mobile,oper_status,eff_flag,eff_date,
				exp_date,oper_online,oper_comment,create_date,create_operator_id) 
				   values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,sysdate(),?)
</script>
    </service>
    <service code="pub.SequenceId.queryUserId" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select crm_user.SEQ_USER_ID.nextval from user_dual
</script>
    </service>
    <service code="pub.LifeDevice.insertLifeDevice" clazz="com.tydic.vds.service.single.CommonService" isQuery="false">
      <script>insert into life_device(device_id, user_id,
					device_number,eff_date,exp_date,eff_flag)
					values(?,?,?,str_to_date(?,'%Y-%m-%d %T'),str_to_date(?,'%Y-%m-%d %T'),?)
</script>
    </service>
    <service code="pub.InfoAuthority.queryPageInfoAuthority" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select 
        		authority_id,authority_name,authority_url,authority_comment,create_date,create_operator_id
				from info_authority 
				where authority_name = ?
</script>
    </service>
    <service code="pub.LifeImsi.insertLifeImsi" clazz="com.tydic.vds.service.single.CommonService" isQuery="false">
      <script>     insert into life_imsi(imsi_id, user_id,
					xim_number,imsi,min_number,eff_date,exp_date,eff_flag)
					values(?,?,?,?,?,str_to_date(?,'%Y-%m-%d %T'),str_to_date(?,'%Y-%m-%d %T'),?)
</script>
    </service>
    <service code="pub.InfoOper.queryByLoginCode" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select 
				oper_id,oper_dept,oper_name,login_code,oper_pwd,oper_gender,
				oper_phone,oper_email,oper_mobile,oper_status,eff_flag,eff_date,
				exp_date,oper_online,oper_comment,create_date,create_operator_id 
				from info_oper 
				where login_code = ?
</script>
    </service>
    <service code="ofr.RuleOfrProduct.queryByOfrIds" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select * from rule_ofr_product where 1=1
</script>
    </service>
    <service code="order.InfoOrderInvoice.queryByOrderId" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select 
             	*
             from info_order_invoice where order_id = ?
</script>
    </service>
    <service code="ofr.CodeOfrAttrGroup.queryOfrAttrSKGByOfrIdAndType" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select ofr_attr_id, ofr_id, attr_type, attr_id, attr_value, attr_sub_type from code_ofr_attr where ofr_id = ? and attr_type = ?
</script>
    </service>
    <service code="order.InfoOrder.queryPageInfoOrder" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select order_id,parent_order_id,cust_id,express_flag,order_status,date_format(finish_date, '%Y-%m-%d %T') finish_date,dev_channel_id,dev_id,create_operator_id,date_format(create_date, '%Y-%m-%d %T') create_date from info_order where 1=1
</script>
    </service>
    <service code="ofr.CodeOfrAttrGroup.querySKUGrpByGroupCode" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select distinct  sku_group_code, sku_id from code_ofr_attr_group where sku_group_code=?
</script>
    </service>
    <service code="pub.InfoMenu.queryCountInfoMenu" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select 
				count(*)
				from info_menu 
				where 1=1
</script>
    </service>
    <service code="pub.InfoAuthId.queryInfoAuthIdByCustomerId" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>SELECT  
auth_id,
customer_id,
id_type,
id_number,
date_format(id_exp_date, '%Y-%m-%d %T') id_exp_date,
date_format(auth_date, '%Y-%m-%d %T') auth_date,
date_format(exp_date, '%Y-%m-%d %T') exp_date,
eff_flag
FROM info_auth_id
WHERE customer_id = ?
and eff_flag = 1
</script>
    </service>
    <service code="order.InfoOrderDetail.updateInfoOrderDetail" clazz="com.tydic.vds.service.single.CommonService" isQuery="false">
      <script>update info_order_detail set order_id = ?,ofr_type = ?,ofr_sub_type = ?,
				ofr_id = ?,market_price = ?,material_num = ?
             where order_detail_id = ?
</script>
    </service>
    <service code="pub.InfoRole.queryByRoleId" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select 
				role_id,role_name,role_comment,create_date,create_operator_id
				from info_role 
				where role_id = ?
</script>
    </service>
    <service code="order.InfoOrderInvoice.updateInfoOrderInvoice" clazz="com.tydic.vds.service.single.CommonService" isQuery="false">
      <script>update info_order_invoice set invoice_title = ?,print_num = (print_num + 1),print_date = sysdate,
				invoice_id = ?,print_content = ?
             where order_id = ?
</script>
    </service>
    <service code="order.InfoOrderAttr.queryByOrderId" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select 
             	order_attr_id,order_id,attr_type,attr_id,
				attr_value
             from info_order_attr where order_id = ?
</script>
    </service>
    <service code="pub.InfoRole.updateInfoRole" clazz="com.tydic.vds.service.single.CommonService" isQuery="false">
      <script>update info_role 
				   set
				   role_name = ?,role_comment = ?,create_date = ?,create_operator_id = ?
				   where role_id = ?
</script>
    </service>
    <service code="ofr.RuleOfrArea.queryByOfrId" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select * from rule_ofr_area where ofr_id = ?
</script>
    </service>
    <service code="product.CodeArea.queryByAreaId" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select * from code_area where area_id = ?
</script>
    </service>
    <service code="product.InfoStorageNum.updateInfoStorageNum" clazz="com.tydic.vds.service.single.CommonService" isQuery="false">
      <script>update info_storage_num set storage_id = ?,product_id=?,sale_num=?,onway_num=?,unload_num=?,sale_lock_num=?,virtual_flag=?,virtual_id=?,virtual_num=?,un_sale_num=?,alert_flag=? where storage_num_id=?
</script>
    </service>
    <service code="pub.InfoRole.deleteInfoRole" clazz="com.tydic.vds.service.single.CommonService" isQuery="false">
      <script>delete from info_role 
				  where role_id in (?)
</script>
    </service>
    <service code="ofr.CodeOfr.insertCodeOfr" clazz="com.tydic.vds.service.single.CommonService" isQuery="false">
      <script>insert into code_ofr
  (ofr_id,
   ofr_name,
   ofr_desc,
   market_price,
   ofr_status,
   eff_flag,
   eff_date,
   exp_date,
   exclude_code,
   rule_id,
   ofr_type,
   ofr_sub_type,
   tele_type,
   oper_date)
values
  (?, ?, ?, ?, ?, ?, str_to_date(?,'%Y-%m-%d %T'),str_to_date(?,'%Y-%m-%d %T'), ?, ?, ?, ?, ?,sysdate);
</script>
    </service>
    <service code="ofr.RuleOfrProductGroup.queryByOfrId" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>
select * from rule_ofr_product_group where ofr_id = ?
</script>
    </service>
    <service code="pub.SequenceId.queryOrderMaterialsAttrId" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select to_number(to_char(sysdate,YYYYMMDD)||LPAD(crm_order.SEQ_ORDER_MATERIALS_ATTR_ID.nextval,12,0)) from order_dual
</script>
    </service>
    <service code="pub.InfoAuthority.queryCountInfoAuthority" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select 
				count(*)
				from info_authority 
				where 1=1
</script>
    </service>
    <service code="order.InfoOrder.queryByOrderStatus" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select order_id,parent_order_id,cust_id,express_flag,order_status,date_format(finish_date, '%Y-%m-%d %T') finish_date,dev_channel_id,dev_id,create_operator_id,date_format(create_date, '%Y-%m-%d %T') create_date from info_order where order_status = ?
</script>
    </service>
    <service code="order.InfoOrderDistribution.insertInfoOrderDistribution" clazz="com.tydic.vds.service.single.CommonService" isQuery="false">
      <script>insert into info_order_distribution(
             	order_id,logistics_type,storage_id,self_chl_id,
				contact_name,contact_tel,province_code,city_code,
				address,post_code,distribution_time_id
				)
			values(
				?,?,?,?,
				?,?,?,?,
				?,?,?
				)
</script>
    </service>
    <service code="busi.InfoOrderPackPreview.queryCountInfoOrderPackPreview" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script> select count(*)
			from  INFO_ORDER_DETAIL s,CRM_OFR.CODE_OFR o
				where  s.ofr_id=o.ofr_id 
				and s.order_id = ?
</script>
    </service>
    <service code="pub.InfoAuthority.deleteInfoAuthority" clazz="com.tydic.vds.service.single.CommonService" isQuery="false">
      <script>delete from info_authority 
				  where authority_id in (?)
</script>
    </service>
    <service code="pub.InfoAuthMobile.insertInfoAuthMobile" clazz="com.tydic.vds.service.single.CommonService" isQuery="false">
      <script>  insert into info_auth_mobile(auth_id, customer_id,
					user_id,device_number,auth_date,exp_date,eff_flag)
					values(?,?,?,?,str_to_date(?,'%Y-%m-%d %T'),str_to_date(?,'%Y-%m-%d %T'),?)
</script>
    </service>
    <service code="pub.InfoRole.queryByRoleIds" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select 
				role_id,role_name,role_comment,create_date,create_operator_id
				from info_role r
				where 
				EXISTS (
				select 1 from 
				RULE_OPER_ROLE o ,RULE_AUTHORITY_ROLE a,RULE_MENU_ROLE m
				where r.ROLE_ID = o.ROLE_ID and a.ROLE_ID=r.ROLE_ID and m.ROLE_ID=r.ROLE_ID
				and r.ROLE_ID  in (?) 
				)
</script>
    </service>
    <service code="pub.InfoOper.queryPageInfoOper" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select 
				oper_id,oper_dept,oper_name,login_code,oper_pwd,oper_gender,
				oper_phone,oper_email,oper_mobile,oper_status,eff_flag,eff_date,
				exp_date,oper_online,oper_comment,create_date,create_operator_id 
				from info_oper 
				where 1=1
</script>
    </service>
    <service code="pub.InfoAuthId.queryInfoAuthIdByIdNumber" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select * from info_auth_id where id_number = ? and eff_flag = 1
</script>
    </service>
    <service code="pub.InfoOper.queryByLoginCodeAndOperPwd" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select 
				oper_id,oper_dept,oper_name,login_code,oper_pwd,oper_gender,
				oper_phone,oper_email,oper_mobile,oper_status,eff_flag,eff_date,
				exp_date,oper_online,oper_comment,create_date,create_operator_id
				from info_oper 
				where login_code = ? and oper_pwd = ?
</script>
    </service>
    <service code="pub.LifeUserStatus.insertLifeUserStatus" clazz="com.tydic.vds.service.single.CommonService" isQuery="false">
      <script>    insert into life_user_status(user_status_id, user_id,
					user_status,eff_date,exp_date,eff_flag)
					values(?,?,?,str_to_date(?,'%Y-%m-%d %T'),str_to_date(?,'%Y-%m-%d %T'),?)
</script>
    </service>
    <service code="pub.InfoPost.insertInfoPost" clazz="com.tydic.vds.service.single.CommonService" isQuery="false">
      <script>insert into info_post(post_id, customer_id,
					contact_name,contact_tel,province_code,city_code,address,post_code)
					values(?,?,?,?,?,?,?,?)
</script>
    </service>
    <service code="order.InfoOrderFeeTotal.insertInfoOrderFeeTotal" clazz="com.tydic.vds.service.single.CommonService" isQuery="false">
      <script>insert into info_order_fee_total(
             	order_id,pay_type,total_fee,discount_fee,
				payed_fee,invoice_flag
				)
			values(
				?,?,?,?,
				?,?
				)
</script>
    </service>
    <service code="product.CodeProductDeviceNumAttr.queryByProductId" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>
      	--@Router(PRODUCT_ID,$1)
      	select * from code_product_device_num_attr  where product_id = ?
</script>
    </service>
    <service code="user.LifeServiceCycle.createLifeServiceCycle" clazz="com.tydic.vds.service.single.CommonService" isQuery="false">
      <script>insert into life_service_cycle (service_cycle_id,user_id,service_id,service_pkg_id,eff_date,exp_date,eff_flag,order_id,chng_order_id) values(?,?,?,?,str_to_date(?,'%Y-%m-%d %T'),str_to_date(?,'%Y-%m-%d %T'),?,?,?)
</script>
    </service>
    <service code="pub.SequenceId.queryOrderAttrId" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select
				to_number(to_char(sysdate,YYYYMMDD)||LPAD(crm_order.SEQ_ORDER_ATTR_ID.nextval,12,0))
				from order_dual 
</script>
    </service>
    <service code="pub.SequenceId.queryUserStatusId" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select crm_user.SEQ_USER_STATUS_ID.nextval from user_dual
</script>
    </service>
    <service code="pub.InfoRole.queryCountInfoRole" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select 
				count(*)
				from info_role 
				where 1=1
</script>
    </service>
    <service code="user.LifeServiceCycle.modifyByUserIdChngOrderId" clazz="com.tydic.vds.service.single.CommonService" isQuery="false">
      <script>UPDATE life_service_cycle SET exp_date=chng_exp_date,eff_flag=?,chng_order_id=NULL ,chng_exp_date=NULL WHERE user_id=? AND chng_order_id=?
</script>
    </service>
    <service code="ofr.CodeOfrAttr.queryOfrAttrBySkgCode" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select ofr_attr_id, ofr_id, attr_type, attr_id, attr_value, attr_sub_type from code_ofr_attr where attr_id=? and attr_type= ?
</script>
    </service>
    <service code="ofr.RuleActivityElements.queryRuleByElementType" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select rule_activity_element_id, activity_id, element_cata, element_type, element_sub_type, element_id, eff_flag,date_format(eff_date, '%Y-%m-%d %T'), date_format(exp_date, '%Y-%m-%d %T') from rule_activity_elements where element_type=? and eff_flag=?
</script>
    </service>
    <service code="pub.SequenceId.queryOrderDetailId" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select to_number(to_char(sysdate,YYYYMMDD)||LPAD(crm_order.SEQ_ORDER_DETAIL_ID.nextval,12,0)) from order_dual
</script>
    </service>
    <service code="pub.InfoCustomer.queryInfoCustomerByCustomerId" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select * from info_customer where customer_id = ?
</script>
    </service>
    <service code="ofr.RuleOfrProductRelation.queryByRuleId" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select * from rule_ofr_product_relation where rule_id = ?
</script>
    </service>
    <service code="pub.CodeList.queryAll" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select 
							code_list_||a.type_code||_||a.code_id keyId,
							a.type_code typeCode,a.code_id codeId,a.code_name codeName,
							a.seq_id seqId,a.macro_code macroCode,a.parent_type_code parentTypeCode,
							a.parent_code_id parentCodeId,a.eff_flag effFlag 
						from code_list a
</script>
    </service>
    <service code="pub.SequenceId.queryPayUserId" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select crm_user.SEQ_PAY_USER_ID.nextval from user_dual
</script>
    </service>
    <service code="pub.InfoCustomer.updateInfoCustomer" clazz="com.tydic.vds.service.single.CommonService" isQuery="false">
      <script> update info_customer 
				   set
				   customer_type = ?,auth_bit = ?,auth_pwd = ?,create_date = ?,
           vip_level = ?,real_customer_id = ?
				   where customer_id = ?
</script>
    </service>
    <service code="order.InfoShoppingCart.createInfoShoppingCart" clazz="com.tydic.vds.service.single.CommonService" isQuery="false">
      <script>insert into info_shopping_cart(
             	shopping_cart_id,
                cust_id,
                ofr_id,
                material_num,
                create_date
				)
			values(
				?,?,?,?,sysdate
				)
</script>
    </service>
    <service code="order.InfoOrderDetail.insertInfoOrderDetail" clazz="com.tydic.vds.service.single.CommonService" isQuery="false">
      <script>insert into info_order_detail(
             	order_detail_id,order_id,ofr_type,ofr_sub_type,
				ofr_id,market_price,material_num
				)
			values(
				?,?,?,?,
				?,?,?
				)
</script>
    </service>
    <service code="pub.InfoAuthority.queryInfoAuthorityByOperID" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select  * from info_authority where authority_id 
				in( select  authority_id from rule_authority_role 
				 where  role_id
 					in( select  role_id from  rule_oper_role where  oper_id=?)
 					)
</script>
    </service>
    <service code="pub.InfoPost.updateInfoPost" clazz="com.tydic.vds.service.single.CommonService" isQuery="false">
      <script>UPDATE 
       info_post 
SET 
    customer_id = ?,contact_name = ?,contact_tel = ?,province_code = ?,
    city_code = ?,address = ?,post_code = ?
WHERE post_id = ?
</script>
    </service>
    <service code="pub.SequenceId.queryCustomerId" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select crm_cust.SEQ_CUSTOMER_ID.nextval from cust_dual
</script>
    </service>
    <service code="pub.CodeType.queryAll" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select code_type_||a.type_code keyId,a.type_code typeCode,a.type_name typeName from code_type a
</script>
    </service>
    <service code="ofr.OfrRelation.queryOfrRelationByOfrIds" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select a_ofr_id,b_ofr_id from OFR_RELATION where a_ofr_id=?
</script>
    </service>
    <service code="pub.InfoUser.insertInfoUser" clazz="com.tydic.vds.service.single.CommonService" isQuery="false">
      <script>insert into info_user(user_id, tele_type,device_number,user_pwd,user_status,create_date,active_date,
					user_type,prepay_flag,local_net,develop_channel_id,proto_flag,sub_user_status,stop_date)
					values(?,?,?,?,?,str_to_date(?,'%Y-%m-%d %T'),str_to_date(?,'%Y-%m-%d %T'),?,?,?,?,?,?,str_to_date(?,'%Y-%m-%d %T'))
</script>
    </service>
    <service code="pub.InfoAuthId.insertInfoAuthId" clazz="com.tydic.vds.service.single.CommonService" isQuery="false">
      <script> insert into info_auth_id(auth_id, customer_id,
					id_type,id_number,id_exp_date,auth_date,exp_date,eff_flag)
					values(?,?,?,?,str_to_date(?,'%Y-%m-%d %T'),str_to_date(?,'%Y-%m-%d %T'),str_to_date(?,'%Y-%m-%d %T'),?)
</script>
    </service>
    <service code="ofr.RuleOfrArea.insertRuleOfrArea" clazz="com.tydic.vds.service.single.CommonService" isQuery="false">
      <script>insert into rule_ofr_area (ofr_area_id,ofr_id,area_id) values(?,?,?)
</script>
    </service>
    <service code="order.InfoOrder.insertInfoOrder" clazz="com.tydic.vds.service.single.CommonService" isQuery="false">
      <script>insert into info_order(
             	order_id,parent_order_id,cust_id,express_flag,
				order_status,dev_channel_id,dev_id,
				create_operator_id,create_date
				)
			values(
				?,?,?,?,
				?,?,?,
				?,sysdate
				)
</script>
    </service>
    <service code="pub.SysSequence.querySysSequenceBySeqName" clazz="com.tydic.vds.service.single.CommonService" isQuery="true">
      <script>select * from sys_sequence a where a.seq_name = ?</script>
    </service>
    <service code="pub.SysSequence.updateSysSequence" clazz="com.tydic.vds.service.single.CommonService" isQuery="false">
      <script>update sys_sequence set seq_name = ?,seq_start = ?,seq_max = ?,seq_step = ?,seq_ranges = ? where seq_id = ?</script>
    </service>
	</services>
	<!-- <sharding>
	     <table schema="crm_ofr" name="code_ofr">
	        <partition id="1">
	            <accept>
	            <![CDATA[ MOD(to_number( OFR_ID ),2)=1]]>
	            </accept>
	        </partition>
	        <partition id="2">
	            <accept>
	            <![CDATA[ MOD(to_number( OFR_ID ),2)=0]]>
	            </accept>
	        </partition>
	    </table>
	</sharding> -->
</vds>